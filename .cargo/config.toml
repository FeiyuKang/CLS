# Cargo configuration for faster builds during development

[source.crates-io]
replace-with = 'tuna'

[source.tuna]
registry = "https://mirrors.tuna.tsinghua.edu.cn/git/crates.io-index.git"

[net]
# Disable git fetch through CLI, use cargo's internal git
git-fetch-with-cli = false

[build]
# Use incremental compilation for faster rebuilds
incremental = true

[target.x86_64-pc-windows-msvc]
# Enable parallel compilation
rustflags = ["-C", "link-arg=-fuse-ld=lld"]

[alias]
# Convenient aliases for development
dev = "watch -x 'run --bin api-server'"
test-all = "test --workspace"
build-release = "build --workspace --release"
